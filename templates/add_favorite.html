<!DOCTYPE html>
<html>
<head>
	<title>My App</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script>
		function addFavorite() {
			var xhr = new XMLHttpRequest();
			xhr.open('POST', '/add_favorite/venue/{{ venue.id }}', true);
			xhr.setRequestHeader('Content-Type', 'application/json');
			xhr.onload = function() {
				if (xhr.status === 200) {
					var response = JSON.parse(xhr.responseText);
					if (response.status === 'success') {
						document.getElementById('add-favorite-btn').innerHTML = 'Added to Favorites';
						document.getElementById('add-favorite-btn').disabled = true;
					} else {
						alert(response.message);
					}
				} else {
					alert('Error adding venue to favorites.');
				}
			};
			xhr.onerror = function() {
				alert('Error adding venue to favorites.');
			};
			xhr.send();
		}
	</script>
</head>
<body>
	<div class="venue-details">
		<h1>{{ venue.name }}</h1>
		<p>{{ venue.description }}</p>
		<button id="add-favorite-btn" onclick="addFavorite()">Add to Favorites</button>
	</div>
</body>
</html>
